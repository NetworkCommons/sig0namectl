<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Go<>JS Demo</title>
  <script type="application/javascript" src="wasm_exec.js"></script>
  <script type="application/javascript" src="pure.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
</head>
<body>
  <h2>DNS</h2>
  <h3>DOH Resolver</h3>
  <p>
    <input type="text" id="query-name" placeholder="mythingymajig.zenr.io">
    <input type="text" id="query-type" placeholder="A">
    <button onclick="renderQuery()">Resolve</button>
    <pre id="query-result"></pre>
  </p>

  <h2>DNS Keys</h2>
  <h3>List Keystore</h3>
  <button onclick="listKeys()">Update</button>
  <button onclick="listKeysWithStatus()">Update with DNS Status</button>
  <button id="downloadButton" onClick="downloadKeys()">Download</button>
  <div id="existing-keys"></div>

  <h3>Request</h3>
  <p>
    <input type="text" id="new-name" placeholder="mythingymajig.zenr.io">
    <button onclick="requestKey()">Request new Key</button>
  </p>
  
  <h3>Search Keystore for Key to sign update for a given Subdomain</h3>
  <p>
    <input type="text" id="keys-for-domain" placeholder="mythingymajig.zenr.io">
    <button onclick="getKeysForDomain()">Find key in keystore</button>
    <div id="domain-key"></div>
  </p>

  <h3>Find DOH Endpoint for a given Subdomain</h3>
  <p>
    <input type="text" id="doh-for-domain" placeholder="mythingymajig.zenr.io">
    <button onclick="findDOHEndpoint()">Find DOH endpoint</button>
    <div id="domain-doh-endpoint"></div>
  </p>

   <h3>Import Key pair files from filesystem into Browser Keystore</h3>
  <p>
    <input type="file" id="directoryPicker" webkitdirectory multiple onchange="handleFileSelection(event)">
    <ul id="fileList"></ul>
    <div id="imported-key"></div>
  </p>

</body>
</html>
